<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>N3XUS LEAKS</title>
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600,700&display=swap" rel="stylesheet"/>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --bg-dark: #0d0d0f;
      --bg-darker: #131318;
      --text-light: #e1e1e6;
      --text-muted: #7a7a8c;
      --accent: #e6007e;
      --accent-hover: #ff1a95;
      --sidebar-width: 240px;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Montserrat',sans-serif; }
    body { display:flex; min-height:100vh; color:var(--text-light); background:var(--bg-dark); }
    a { text-decoration:none; color:inherit; }

    /* Sidebar */
    .sidebar {
      position:fixed; top:0; left:0;
      width:var(--sidebar-width); height:100%;
      background:var(--bg-darker);
      display:flex; flex-direction:column; justify-content:flex-start;
    }
    .sidebar ul { list-style:none; padding:20px; }
    .sidebar li + li { margin-top:8px; }
    .sidebar li a {
      display:flex; align-items:center;
      padding:12px 16px; border-radius:4px;
      transition: background .2s;
    }
    .sidebar li a:hover,
    .sidebar li a.active {
      background: rgba(230,0,126,0.1);
    }
    .sidebar i { margin-right:12px; font-size:18px; }

    /* Main panel */
    .main {
      margin-left:var(--sidebar-width);
      flex:1; display:flex; flex-direction:column;
    }

    .header {
      height:60px; background:var(--bg-darker);
      display:flex; align-items:center;
      justify-content:space-between; padding:0 20px;
    }
    .header h1 { color:var(--accent); font-size:20px; }

    /* Move search here */
    #search-form {
      display:flex; align-items:center;
    }
    #search-input {
      padding:6px 10px; font-size:14px;
      border:none; border-radius:4px 0 0 4px;
      width:200px;
    }
    #search-btn {
      padding:6px 12px; border:none; border-radius:0 4px 4px 0;
      background:var(--accent); color:#fff; cursor:pointer;
      transition: background .2s;
    }
    #search-btn:hover { background:var(--accent-hover); }

    .content {
      flex:1; overflow-y:auto; padding:40px;
      background:var(--bg-dark);
    }

    /* Models Section */
    .models-section {
      display:block;
    }
    .model-cards {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
      gap:16px;
    }
    .model-card {
      background:var(--bg-darker); border-radius:4px;
      overflow:hidden; cursor:pointer;
      transition: transform .1s;
    }
    .model-card:hover { transform:scale(1.02); }
    .model-card img {
      width:100%; height:160px; object-fit:cover;
    }
    .model-card h3 {
      padding:8px; font-size:14px; text-align:center;
      color:var(--text-light);
    }

    /* Gallery subview */
    #gallery-view { display:none; }
    #gallery-view h2 { margin-bottom:16px; }
    #back-btn {
      background:none; border:none; color:var(--accent);
      cursor:pointer; margin-bottom:16px;
    }
    #album-links { list-style:none; }
    #album-links li { margin-bottom:12px; }
    #album-links a { color:var(--accent); }

    /* FAQ Accordion */
    .accordion { max-width:800px; margin:40px auto; }
    .accordion-item {
      background:var(--bg-darker);
      border-radius:4px; margin-bottom:16px; overflow:hidden;
    }
    .accordion-item button {
      width:100%; background:none; border:none;
      color:var(--text-light); text-align:left;
      padding:20px; font-size:16px;
      display:flex; justify-content:space-between;
      align-items:center; cursor:pointer;
      transition: background .2s;
    }
    .accordion-item button:hover { background:rgba(255,255,255,0.05); }
    .accordion-item button i { font-size:20px; transition: transform .3s; }
    .panel {
      max-height:0; overflow:hidden;
      transition: max-height .3s ease;
      background:var(--bg-dark);
    }
    .panel p {
      padding:0 20px 20px; color:var(--text-muted);
    }

    /* Terms */
    #terms { max-width:800px; margin:40px auto; color:var(--text-muted); line-height:1.5; }

    /* Footer */
    .footer {
      background:var(--bg-darker);
      padding:40px 20px; color:var(--text-muted);
      display:flex; justify-content:space-between; flex-wrap:wrap;
    }
    .footer .left { max-width:600px; }
    .footer h3 { color:#fff; margin-bottom:8px; }
    .footer p { margin-bottom:16px; font-size:14px; line-height:1.5; }
    .footer .links { list-style:none; display:flex; flex-wrap:wrap; margin-top:16px; }
    .footer .links li { margin-right:16px; margin-bottom:8px; }
    .footer .links a { color:var(--text-muted); font-size:14px; }
    .footer .payments { margin-top:16px; }
    .footer .payments i { margin-right:12px; font-size:24px; }

    /* Back to top */
    .back-to-top {
      position:fixed; bottom:20px; right:50%;
      transform:translateX(50%);
      background:var(--accent); width:48px; height:48px;
      border-radius:50%; display:flex; align-items:center;
      justify-content:center; color:#fff; cursor:pointer;
      transition: background .2s;
    }
    .back-to-top:hover { background:var(--accent-hover); }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <aside class="sidebar">
    <ul>
      <li><a href="#" class="active"><i class="fas fa-star"></i> N3XUS LEAKS</a></li>
      <li><a href="#" id="menu-models"><i class="fas fa-user"></i> Models</a></li>
      <li><a href="#faq"><i class="fas fa-question-circle"></i> FAQ</a></li>
      <li><a href="#terms"><i class="fas fa-file-alt"></i> Terms</a></li>
    </ul>
  </aside>

  <!-- Main panel -->
  <div class="main">
    <header class="header">
      <h1>N3XUS LEAKS</h1>
      <form id="search-form">
        <input id="search-input" placeholder="Search model name…" autocomplete="off"/>
        <button type="submit" id="search-btn"><i class="fas fa-search"></i></button>
      </form>
    </header>

    <section class="content">
      <!-- MODELS SECTION -->
      <div class="models-section" id="models-section">
        <div class="model-cards" id="models-grid">
          <!-- model cards will inject here -->
        </div>
      </div>

      <!-- GALLERY / ALBUM LINKS VIEW -->
      <div id="gallery-view">
        <button id="back-btn"><i class="fas fa-arrow-left"></i> Back to models</button>
        <h2 id="model-title"></h2>
        <ul id="album-links"></ul>
      </div>

      <!-- FAQ ACCORDION -->
      <div id="faq" class="accordion">
        <div class="accordion-item">
          <button>
            What is the purpose of the buttons?
            <i class="fas fa-plus"></i>
          </button>
          <div class="panel">
            <p>These buttons help you navigate between models and their galleries. Click “Models” to search, then click a model to view their albums.</p>
          </div>
        </div>
        <div class="accordion-item">
          <button>
            Are these galleries free to browse?
            <i class="fas fa-plus"></i>
          </button>
          <div class="panel">
            <p>Yes, we only aggregate publicly available album links. No subscription is required to view thumbnails or album URLs.</p>
          </div>
        </div>
        <div class="accordion-item">
          <button>
            Do I need an account?
            <i class="fas fa-plus"></i>
          </button>
          <div class="panel">
            <p>No account is necessary. Simply search and click to view the album links, which open in a new tab.</p>
          </div>
        </div>
      </div>

      <!-- TERMS SECTION -->
      <div id="terms">
        <h2>Terms & Conditions</h2>
        <p>All images and links are fetched via public APIs. By using this service, you agree not to redistribute copyrighted content. We are not responsible for external site content.</p>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="left">
        <h3>N3XUS LEAKS</h3>
        <p>N3XUS LEAKS aggregates high-quality galleries from top creators. Browse thousands of albums by simply entering a model name—no subscriptions needed.</p>
        <p style="font-size:12px; margin-top:20px;">
          Disclaimer: This website is in no way affiliated with any original platforms. Images and album links belong to their respective owners. For DMCA requests, please contact support@n3xusleaks.example.</p>
        <ul class="links">
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#terms">Terms</a></li>
          <li><a href="#">Privacy</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
        <div class="payments">
          <i class="fab fa-bitcoin"></i>
          <i class="fas fa-dollar-sign"></i>
          <i class="fab fa-cc-paypal"></i>
          <i class="fab fa-cc-visa"></i>
          <i class="fab fa-cc-mastercard"></i>
          <i class="fab fa-cc-amex"></i>
        </div>
      </div>
    </footer>
  </div>

  <!-- Back to top -->
  <div class="back-to-top"><i class="fas fa-arrow-up"></i></div>

  <!-- JavaScript -->
  <script>
    // Elements
    const modelsGrid   = document.getElementById('models-grid');
    const modelsSection= document.getElementById('models-section');
    const galleryView  = document.getElementById('gallery-view');
    const modelTitle   = document.getElementById('model-title');
    const albumLinksEl = document.getElementById('album-links');
    const backBtn      = document.getElementById('back-btn');
    const searchForm   = document.getElementById('search-form');
    const menuModels   = document.getElementById('menu-models');
    const faqButtons   = document.querySelectorAll('.accordion-item button');
    const backToTop    = document.querySelector('.back-to-top');

    // Show Models section when sidebar “Models” clicked
    menuModels.addEventListener('click', e => {
      e.preventDefault();
      modelsSection.style.display = 'block';
      galleryView.style.display   = 'none';
      document.getElementById('faq').style.display   = 'none';
      document.getElementById('terms').style.display = 'none';
    });

    // Search submit: load thumbnail card
    searchForm.addEventListener('submit', async e => {
      e.preventDefault();
      const name = document.getElementById('search-input').value.trim();
      if (!name) return;
      modelsGrid.innerHTML = `<p style="grid-column:1/-1;color:var(--text-muted)">Loading…</p>`;
      try {
        const res = await fetch(`/api/erome-gallery?query=${encodeURIComponent(name)}`);
        const { images } = await res.json();
        const thumb = images[0] || '/static/placeholder.png';
        modelsGrid.innerHTML = '';
        const card = document.createElement('div');
        card.className = 'model-card';
        card.innerHTML = `
          <img src="${thumb}" alt="${name} thumbnail" />
          <h3>${name}</h3>
        `;
        card.addEventListener('click', () => openAlbums(name));
        modelsGrid.appendChild(card);
      } catch (err) {
        modelsGrid.innerHTML = `<p style="grid-column:1/-1;color:red">Error loading model</p>`;
        console.error(err);
      }
    });

    // Open album links
    async function openAlbums(name) {
      modelsSection.style.display = 'none';
      galleryView.style.display   = 'block';
      modelTitle.textContent      = name;
      albumLinksEl.innerHTML      = `<li style="color:var(--text-muted)">Loading albums…</li>`;
      try {
        const res = await fetch(`/api/erome-albums?username=${encodeURIComponent(name)}`);
        const { albums } = await res.json();
        albumLinksEl.innerHTML = '';
        if (!albums.length) {
          albumLinksEl.innerHTML = `<li style="color:var(--text-muted)">No albums found.</li>`;
          return;
        }
        albums.forEach(url => {
          const li = document.createElement('li');
          li.innerHTML = `<a href="${url}" target="_blank"><i class="fas fa-link"></i> ${url}</a>`;
          albumLinksEl.appendChild(li);
        });
      } catch (err) {
        albumLinksEl.innerHTML = `<li style="color:red">Error loading albums</li>`;
        console.error(err);
      }
    }

    // Back to models list
    backBtn.addEventListener('click', () => {
      galleryView.style.display   = 'none';
      modelsSection.style.display = 'block';
      modelsGrid.innerHTML        = '';
      albumLinksEl.innerHTML      = '';
      document.getElementById('search-input').focus();
    });

    // FAQ accordion toggle
    faqButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const panel = btn.nextElementSibling;
        const icon  = btn.querySelector('i');
        document.querySelectorAll('.panel').forEach(p => p.style.maxHeight = null);
        document.querySelectorAll('.accordion-item i').forEach(i => i.classList.replace('fa-minus','fa-plus'));
        if (!panel.style.maxHeight) {
          panel.style.maxHeight = panel.scrollHeight + 'px';
          icon.classList.replace('fa-plus','fa-minus');
        }
      });
    });

    // Back to top
    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Responsive layout adjustment
    function updateModelsLayout() {
      const modelCards = document.querySelector('.model-cards');
      if (window.matchMedia("(min-width: 821px) and (max-width: 1180px)").matches) {
        modelCards.style.gridTemplateColumns = "repeat(3, 1fr)";
        modelCards.style.padding = "100px";
      } else if (window.matchMedia("(max-width: 820px)").matches) {
        modelCards.style.gridTemplateColumns = "repeat(1, 1fr)";
        modelCards.style.padding = "300px";
      }
    }
    document.addEventListener("DOMContentLoaded", updateModelsLayout);
    window.matchMedia("(min-width: 821px) and (max-width: 1180px)").addEventListener("change", updateModelsLayout);
    window.matchMedia("(max-width: 820px)").addEventListener("change", updateModelsLayout);

    // Initial focus
    document.getElementById('search-input').focus();
  </script>
</body>
</html>
